/* ────────────────────────────────────────────────────────────────────────────
   VARIABLES
──────────────────────────────────────────────────────────────────────────── */
:root{
  --primary:#005A8D;
  --primary-hover:#004876;

  --text-color:#333;
  --bg-color:#f7f9fb;
  --panel-bg:#fff;

  --btn-bg:var(--primary);
  --btn-text:#fff;
  --btn-hover-bg:var(--primary-hover);

  --home-btn-bg:#D32F2F;
  --home-btn-hover-bg:#B71C1C;
}
[data-theme="dark"]{
  --bg-color:#1e1e1e;
  --text-color:#e0e0e0;
  --panel-bg:#2a2a2a;

  --btn-bg:#3a3a3a;
  --btn-hover-bg:#555;

  --home-btn-bg:#B71C1C;
  --home-btn-hover-bg:#A52714;
}

/* ────────────────────────────────────────────────────────────────────────────
   GLOBAL RESET & BASE
──────────────────────────────────────────────────────────────────────────── */
*,*:before,*:after{box-sizing:border-box;}
body{
  margin:0;
  padding:20px;
  font-family:Arial,sans-serif;
  background:var(--bg-color);
  color:var(--text-color);
  transition:background .3s,color .3s;
}
button{font:inherit;cursor:pointer;transition:background .2s;}

/* ────────────────────────────────────────────────────────────────────────────
   TYPOGRAPHY
──────────────────────────────────────────────────────────────────────────── */
header{text-align:center;margin-bottom:16px;}
h1{margin:0;font-size:2em;color:var(--primary);}
#userBar{margin-top:4px;font-size:.9em;}
#userBar a{color:var(--primary);text-decoration:underline;}
#userBar a:hover{opacity:.8;}

/* ────────────────────────────────────────────────────────────────────────────
   HOME BUTTON
──────────────────────────────────────────────────────────────────────────── */
#homeBtn{
  background:var(--home-btn-bg);
  color:var(--btn-text);
  border:none;
  padding:8px 12px;
  border-radius:4px;
  font-size:1rem;
}
#homeBtn:hover{background:var(--home-btn-hover-bg);}

/* ────────────────────────────────────────────────────────────────────────────
   PANELS
──────────────────────────────────────────────────────────────────────────── */
.panel{
  background:var(--panel-bg);
  border-radius:8px;
  padding:20px;
  margin-bottom:32px;
  box-shadow:0 2px 8px rgba(0,0,0,.05);
}
.panel h2{margin:0 0 12px;font-size:1.3em;color:var(--primary);}

/* ────────────────────────────────────────────────────────────────────────────
   MODULE LINKS
──────────────────────────────────────────────────────────────────────────── */
.module-list{display:flex;flex-wrap:wrap;gap:12px;}
.module-link{
  display:inline-block;
  padding:8px 16px;
  background:var(--btn-bg);
  color:var(--btn-text);
  text-decoration:none;
  border-radius:20px;
  font-size:.95em;
  white-space:nowrap;
}
.module-link:hover{background:var(--btn-hover-bg);}

/* ────────────────────────────────────────────────────────────────────────────
   REPORTS GRID BUTTON
──────────────────────────────────────────────────────────────────────────── */
.reports-grid .btn-report{
  display:block;
  width:100%;
  padding:1rem;
  background:var(--btn-bg);
  color:var(--btn-text);
  text-align:center;
  border:none;
  border-radius:6px;
  font-size:1rem;
  font-weight:500;
  box-shadow:0 2px 6px rgba(0,0,0,.15);
  transform:translateY(0);
}
.reports-grid .btn-report:hover{background:var(--btn-hover-bg);transform:translateY(-2px);}
.reports-grid .btn-report:active{transform:translateY(0);}

/* ────────────────────────────────────────────────────────────────────────────
   FILTER ROW  (selects + text inputs share dimensions)
──────────────────────────────────────────────────────────────────────────── */
.filter-row{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:12px;}
.filter-pair{flex:1 1 200px;display:flex;gap:8px;align-items:center;}
.filter-pair select,
.filter-pair input[type="text"]{
  flex:1;
  padding:6px;
  border:1px solid #ccc;
  border-radius:4px;
  height:2.5em;
  line-height:1.25;  /* uniform vertical centering */
  margin:0;          /* remove default margin mis-alignment */
}
/* fine-tune sizes so the whole bar stays on one row */
.filter-pair .narrow  {flex:0 0 90px;}   /* BN field  (was 100px) */
.filter-pair .log-date{flex:0 0 140px;}  /* Log-date field */

/* ensure the Log-date <input> aligns flush with selects */
.filter-pair input.log-date{margin-top:0;}

/* ────────────────────────────────────────────────────────────────────────────
   FILTER ROW – Clear‐button override
──────────────────────────────────────────────────────────────────────────── */
.filter-row button.clear-link {
  border: none;
  background: none;
  padding: 0;
  flex: 0 0 auto;
}

/* ────────────────────────────────────────────────────────────────────────────
   FLATPICKR POPUP (shrink & keep tidy)
──────────────────────────────────────────────────────────────────────────── */
.flatpickr-calendar{
  visibility:hidden;
  transform:scale(.9)!important;
  transform-origin:top left!important;
  width:auto!important;
}
.flatpickr-calendar.open{visibility:visible;}

/* hide the “✓ OK” confirm button added by confirmDate plugin */
.flatpickr-confirm,
.flatpickr-confirm::before{
  display:none !important;
}

/* ────────────────────────────────────────────────────────────────────────────
   DONE‑MODAL FORM LAYOUT (only grid for rows JS shows)
──────────────────────────────────────────────────────────────────────────── */
#doneModal .modal-box {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Only override those rows which JS set to flex or block */
#doneModal .modal-box .form-row[style*="display: flex"],
#doneModal .modal-box .form-row[style*="display: block"] {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
  gap: 16px !important;
  align-items: center !important;
}

/* Inputs & selects inside those visible rows get uniform sizing */
#doneModal .modal-box .form-row[style*="display: flex"] input,
#doneModal .modal-box .form-row[style*="display: flex"] select,
#doneModal .modal-box .form-row[style*="display: block"] input,
#doneModal .modal-box .form-row[style*="display: block"] select {
  width: 100%;
  min-height: 2.4em;
  padding: 6px 8px;
  line-height: 1.25;
  box-sizing: border-box;
}

/* ────────────────────────────────────────────────────────────────────────────
   DONE‑MODAL TABLE STYLES
──────────────────────────────────────────────────────────────────────────── */
#doneModal .modal-box table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 8px;
}
#doneModal .modal-box th,
#doneModal .modal-box td {
  padding: 6px 8px;
  border: 1px solid #ccc;
  text-align: left;
}
#doneModal .modal-box td input {
  width: 100%;
  min-height: 2.4em;
  padding: 4px 6px;
  box-sizing: border-box;
}