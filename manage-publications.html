<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>SASV WORKSPACE | Manage Publications</title>
  <link rel="stylesheet" href="public/shared/css/style.css" />
  <style>
    body { font-family: Arial, sans-serif; margin:20px; }
    .header {
      display:flex; align-items:center; justify-content:space-between;
      margin-bottom:16px;
    }
    .header h1 { margin:0; color:#005A8D; }
    #addNewBtn {
      background:#005A8D; color:#fff; border:none;
      padding:8px 14px; border-radius:4px; cursor:pointer;
    }
    #addNewBtn:hover { background:#00456b; }
    #homeIcon { cursor:pointer; font-size:24px; }
    .container { display:flex; height:calc(100vh - 80px); }
    .sidebar {
      position: relative;       /* context for sticky child */
      width:30%; border:1px solid #ccc; border-radius:4px;
      padding:10px; box-sizing:border-box; overflow-y:auto;
    }
    /* make the search box stick to top of sidebar */
    .sidebar input {
      position: sticky;
      top: 0;
      background: #fff;
      z-index: 1;
      width:100%; padding:6px; margin-bottom:10px; box-sizing:border-box;
    }
    .sidebar ul { list-style:none; padding:0; margin:0; }
    .sidebar li {
      padding:6px 8px; cursor:pointer; border-bottom:1px solid #eee;
    }
    .sidebar li:hover,
    .sidebar li.selected { background:#f0f8ff; }
    .details {
      flex:1; margin-left:20px; overflow-y:auto;
      border:1px solid #ccc; border-radius:4px; padding:10px;
      box-sizing:border-box;
    }
    .details h2 { margin-top:0; }
    form label { display:block; margin:8px 0 4px; }
    form input { width:100%; padding:6px; box-sizing:border-box; }
    .actions {
      margin-top:16px;
    }
    .actions button {
      background:#005A8D; color:#fff; border:none;
      padding:8px 14px; border-radius:4px; cursor:pointer;
      margin-right:8px;
    }
    .actions button:hover { background:#00456b; }
    .actions button:disabled { background:#aaa; cursor:default; }

    /* Modal */
    #modalOverlay {
      position:fixed; top:0; left:0; right:0; bottom:0;
      background:rgba(0,0,0,0.5);
      display:none; align-items:center; justify-content:center;
      z-index:2000;
    }
    #modalBox {
      background:var(--bg-color); color:var(--text-color);
      padding:20px; border-radius:6px; max-width:360px;
      box-shadow:0 2px 10px rgba(0,0,0,0.3);
      /* removed white-space:pre-wrap; */
    }
    .modal-actions {
      margin-top:20px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }
    .modal-actions button {
      padding:6px 12px;
      border:none; border-radius:4px; cursor:pointer;
      background:var(--btn-bg); color:var(--btn-text);
    }
    .modal-actions button:hover { background:var(--btn-hover-bg); }
  </style>
</head>
<body data-theme="system">

  <div class="header">
    <button id="addNewBtn">+ New Publication</button>
    <h1>Manage Publications</h1>
    <span id="homeIcon">üè†</span>
  </div>

  <div class="container">
    <div class="sidebar">
      <input type="text" id="searchInput" placeholder="üîç Search texts‚Ä¶"/>
      <ul id="pubList"></ul>
    </div>
    <div class="details">
      <h2>Publication Details</h2>
      <form id="pubForm">
        <label>Text Name</label>
        <input type="text" id="textName" required/>

        <label>Publisher</label>
        <input type="text" id="publisher" required/>

        <label>Commentator</label>
        <input type="text" id="commentator" required/>

        <label>Year of Publication</label>
        <input type="number" id="yearPub" min="1000" max="9999" required/>

        <div class="actions">
          <button type="submit" id="saveBtn">Save</button>
          <button type="button" id="deleteBtn" disabled>Delete</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal -->
  <div id="modalOverlay">
    <div id="modalBox">
      <div id="modalMessage"></div>
      <div class="modal-actions">
        <button id="modalCancel">Cancel</button>
        <button id="modalConfirm">OK</button>
      </div>
    </div>
  </div>

  <script type="module" src="js/publications.js"></script>
</body>
</html>